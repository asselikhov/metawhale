/**
 * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ–≥–æ UI –¥–ª—è P2P —Ç–æ—Ä–≥–æ–≤–ª–∏
 * 
 * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
 * - –í—ã–±–æ—Ä –∏–∑ 10 —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç
 * - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏ —Å—Ç—Ä–∞–Ω
 * - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω
 * - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–∞–ª—é—Ç –≤ —Ñ–æ—Ä–º–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
 */

const fiatCurrencyService = require('../src/services/fiatCurrencyService');

class MultiCurrencyUIDemo {
  async runUIDemo() {
    try {
      console.log('üé® –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ú–£–õ–¨–¢–ò–í–ê–õ–Æ–¢–ù–û–ì–û UI');
      console.log('='.repeat(60));
      
      await this.demonstrateCurrencySelectionUI();
      await this.demonstrateOrderCreationUI();
      await this.demonstrateMarketDisplayUI();
      
      console.log('\n‚úÖ UI –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!');
      
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ UI –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:', error);
    }
  }

  /**
   * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤—ã–±–æ—Ä–∞ –≤–∞–ª—é—Ç
   */
  async demonstrateCurrencySelectionUI() {
    console.log('\nüí± –ò–ù–¢–ï–†–§–ï–ô–° –í–´–ë–û–†–ê –í–ê–õ–Æ–¢');
    console.log('-'.repeat(40));
    
    const currencies = fiatCurrencyService.getSupportedCurrencies();
    
    console.log('üìã –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –≤–∞–ª—é—Ç—ã (–∫–∞–∫ –≤ Telegram –±–æ—Ç–µ):');
    console.log('‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê');
    console.log('‚îÇ  üìà –ü–û–ö–£–ü–ö–ê CES –¢–û–ö–ï–ù–û–í                ‚îÇ');
    console.log('‚îÇ  ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ                 ‚îÇ');
    console.log('‚îÇ  üí± –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏:      ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≤–∞–ª—é—Ç (–ø–æ 2 –≤ —Å—Ç—Ä–æ–∫–µ)
    for (let i = 0; i < currencies.length; i += 2) {
      const currency1 = currencies[i];
      const currency2 = currencies[i + 1];
      
      let row = '‚îÇ  ';
      row += `[${currency1.flag} ${currency1.code} ${currency1.symbol}]`;
      
      if (currency2) {
        // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
        row += '  ';
        row += `[${currency2.flag} ${currency2.code} ${currency2.symbol}]`;
      }
      
      // –î–æ–ø–æ–ª–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É –¥–æ –Ω—É–∂–Ω–æ–π –¥–ª–∏–Ω—ã
      while (row.length < 41) {
        row += ' ';
      }
      row += '‚îÇ';
      
      console.log(row);
    }
    
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ              [üîô –ù–∞–∑–∞–¥]                 ‚îÇ');
    console.log('‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò');
  }

  /**
   * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ —Å –≤–∞–ª—é—Ç–æ–π
   */
  async demonstrateOrderCreationUI() {
    console.log('\nüìù –ò–ù–¢–ï–†–§–ï–ô–° –°–û–ó–î–ê–ù–ò–Ø –û–†–î–ï–†–ê');
    console.log('-'.repeat(40));
    
    // –ü—Ä–∏–º–µ—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã
    const selectedCurrency = 'USD';
    const currency = fiatCurrencyService.getCurrencyMetadata(selectedCurrency);
    
    console.log('üí∞ –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤–∞–ª—é—Ç—ã:');
    console.log('‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê');
    console.log('‚îÇ  üìà –ü–û–ö–£–ü–ö–ê CES –¢–û–ö–ï–ù–û–í                ‚îÇ');
    console.log('‚îÇ  ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ                 ‚îÇ');
    console.log(`‚îÇ  ${currency.flag} –í–∞–ª—é—Ç–∞: ${currency.nameRu} (${currency.code})    ‚îÇ`);
    console.log('‚îÇ  –¢–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞: $2.50 / CES üü¢ ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ  ‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ [–∫–æ–ª-–≤–æ, CES] [—Ü–µ–Ω–∞_–∑–∞_—Ç–æ  ‚îÇ');
    console.log('‚îÇ  –∫–µ–Ω, $] [–º–∏–Ω_—Å—É–º–º–∞, $] [–º–∞–∫—Å_—Å—É–º–º–∞, $] ‚îÇ');
    console.log('‚îÇ  üí° –ü—Ä–∏–º–µ—Ä: 10 2.45 25 245             ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:                            ‚îÇ');
    console.log('‚îÇ  ‚Ä¢ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤ USD: —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç  ‚îÇ');
    console.log('‚îÇ    10 $                                 ‚îÇ');
    console.log('‚îÇ  ‚Ä¢ –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: 1% (—Ç–æ–ª—å–∫–æ —Å    ‚îÇ');
    console.log('‚îÇ    –º–µ–π–∫–µ—Ä–æ–≤)                            ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ    [üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É]                   ‚îÇ');
    console.log('‚îÇ    [üí± –°–º–µ–Ω–∏—Ç—å –≤–∞–ª—é—Ç—É]                  ‚îÇ');
    console.log('‚îÇ    [üîô –ù–∞–∑–∞–¥]                           ‚îÇ');
    console.log('‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    console.log('\nüìã –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞:');
    console.log('‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê');
    console.log('‚îÇ  üìà –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É     ‚îÇ');
    console.log('‚îÇ  ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ                 ‚îÇ');
    console.log(`‚îÇ  ${currency.flag} –í–∞–ª—é—Ç–∞: ${currency.nameRu} (${currency.code})    ‚îÇ`);
    console.log('‚îÇ  –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 10 CES                     ‚îÇ');
    console.log('‚îÇ  –¶–µ–Ω–∞ –∑–∞ —Ç–æ–∫–µ–Ω: $2.45                   ‚îÇ');
    console.log('‚îÇ  –û–±—â–∞—è —Å—É–º–º–∞: $24.50                    ‚îÇ');
    console.log('‚îÇ  –ú–∏–Ω. —Å—É–º–º–∞: $25.00                     ‚îÇ');
    console.log('‚îÇ  –ú–∞–∫—Å. —Å—É–º–º–∞: $245.00                   ‚îÇ');
    console.log('‚îÇ  –ö–æ–º–∏—Å—Å–∏—è: 0.10 CES (1%)               ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ  ‚ö†Ô∏è –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞?       ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ    [‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å]  [‚ùå –û—Ç–º–µ–Ω–∞]        ‚îÇ');
    console.log('‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò');
  }

  /**
   * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä—ã–Ω–∫–∞
   */
  async demonstrateMarketDisplayUI() {
    console.log('\nüìä –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –†–´–ù–ö–ê –° –í–ê–õ–Æ–¢–ê–ú–ò');
    console.log('-'.repeat(40));
    
    // –ü–æ–ª—É—á–∞–µ–º –≤–∞–ª—é—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
    const usd = fiatCurrencyService.getCurrencyMetadata('USD');
    const eur = fiatCurrencyService.getCurrencyMetadata('EUR');
    const rub = fiatCurrencyService.getCurrencyMetadata('RUB');
    const cny = fiatCurrencyService.getCurrencyMetadata('CNY');
    
    console.log('üíπ –°–ø–∏—Å–æ–∫ –æ—Ä–¥–µ—Ä–æ–≤ –Ω–∞ —Ä—ã–Ω–∫–µ:');
    console.log('‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê');
    console.log('‚îÇ  üìä –†–´–ù–û–ö                               ‚îÇ');
    console.log('‚îÇ  ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ                 ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log(`‚îÇ  üí∞ –ö—É–ø–∏—Ç—å 100 CES –ø–æ $2.18 –∑–∞ —Ç–æ–∫–µ–Ω   ‚îÇ`);
    console.log(`‚îÇ      ${usd.flag} ${usd.code} ‚Ä¢ –û–±—â–∞—è —Å—É–º–º–∞: $218.00      ‚îÇ`);
    console.log('‚îÇ      üë§ @user1 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê               ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log(`‚îÇ  üí∞ –ü—Ä–æ–¥–∞—Ç—å 50 CES –ø–æ ‚Ç¨2.15 –∑–∞ —Ç–æ–∫–µ–Ω   ‚îÇ`);
    console.log(`‚îÇ      ${eur.flag} ${eur.code} ‚Ä¢ –û–±—â–∞—è —Å—É–º–º–∞: ‚Ç¨107.50      ‚îÇ`);
    console.log('‚îÇ      üë§ @user2 ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ               ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log(`‚îÇ  üí∞ –ö—É–ø–∏—Ç—å 200 CES –ø–æ ‚ÇΩ258.80 –∑–∞ —Ç–æ–∫–µ–Ω ‚îÇ`);
    console.log(`‚îÇ      ${rub.flag} ${rub.code} ‚Ä¢ –û–±—â–∞—è —Å—É–º–º–∞: ‚ÇΩ51,760.00   ‚îÇ`);
    console.log('‚îÇ      üë§ @user3 ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ               ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log(`‚îÇ  üí∞ –ü—Ä–æ–¥–∞—Ç—å 75 CES –ø–æ ¬•18.50 –∑–∞ —Ç–æ–∫–µ–Ω  ‚îÇ`);
    console.log(`‚îÇ      ${cny.flag} ${cny.code} ‚Ä¢ –û–±—â–∞—è —Å—É–º–º–∞: ¬•1,387       ‚îÇ`);
    console.log('‚îÇ      üë§ @user4 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê               ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ  üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 3                    ‚îÇ');
    console.log('‚îÇ     [‚¨ÖÔ∏è –ù–∞–∑–∞–¥] [‚û°Ô∏è –î–∞–ª–µ–µ]              ‚îÇ');
    console.log('‚îÇ                                         ‚îÇ');
    console.log('‚îÇ         [üîô –ù–∞–∑–∞–¥ –∫ P2P]                ‚îÇ');
    console.log('‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò');
    
    console.log('\nüîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:');
    console.log('‚Ä¢ –§–ª–∞–≥–∏ —Å—Ç—Ä–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–∞–ª—é—Ç');
    console.log('‚Ä¢ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–ª—é—Ç—ã');
    console.log('‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —á–∏—Å–µ–ª');
    console.log('‚Ä¢ –£—á–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –≤–∞–ª—é—Ç (JPY –±–µ–∑ –∫–æ–ø–µ–µ–∫, etc.)');
    console.log('‚Ä¢ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤–∞–ª—é—Ç (‚ÇΩ, $, ‚Ç¨, ¬•, etc.)');
  }
}

// –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–∑–≤–∞–Ω –Ω–∞–ø—Ä—è–º—É—é
if (require.main === module) {
  const demo = new MultiCurrencyUIDemo();
  demo.runUIDemo()
    .then(() => {
      console.log('\n‚úÖ UI –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
      process.exit(0);
    })
    .catch((error) => {
      console.error('\nüí• –û—à–∏–±–∫–∞ UI –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:', error);
      process.exit(1);
    });
}

module.exports = MultiCurrencyUIDemo;